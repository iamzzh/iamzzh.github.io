window.__require=function t(e,a,o){function i(c,r){if(!a[c]){if(!e[c]){var s=c.split("/");if(s=s[s.length-1],!e[s]){var u="function"==typeof __require&&__require;if(!r&&u)return u(s,!0);if(n)return n(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var h=a[c]={exports:{}};e[c][0].call(h.exports,function(t){return i(e[c][1][t]||t)},h,h.exports,t,e,a,o)}return a[c].exports}for(var n="function"==typeof __require&&__require,c=0;c<o.length;c++)i(o[c]);return i}({AttackTs:[function(t,e,a){"use strict";cc._RF.push(e,"13538bjFWdPp5I0BXf753FC","AttackTs");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),n=this&&this.__decorate||function(t,e,a,o){var i,n=arguments.length,c=n<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,a,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(c=(n<3?i(c):n>3?i(e,a,c):i(e,a))||c);return n>3&&c&&Object.defineProperty(e,a,c),c};Object.defineProperty(a,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){var t=this.getComponent(cc.Animation);t&&(t.play(),t.on("finished",function(){this.node.destroy()},this))},n([r],e)}(cc.Component));a.default=s,cc._RF.pop()},{}],AudioMgr:[function(t,e,a){"use strict";cc._RF.push(e,"131b4scsgZA4bckUO7eNO8H","AudioMgr");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),n=this&&this.__decorate||function(t,e,a,o){var i,n=arguments.length,c=n<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,a,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(c=(n<3?i(c):n>3?i(e,a,c):i(e,a))||c);return n>3&&c&&Object.defineProperty(e,a,c),c};Object.defineProperty(a,"__esModule",{value:!0}),a.AudioMgr=a.Sound=void 0;var c=t("./Global"),r=cc._decorator,s=r.ccclass,u=r.property;a.Sound={fk_attack:"fk_attack",fk_getGold:"fk_getGold"};var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgmClip=null,e.attackClip=null,e.getGoldClip=null,e.audioId=null,e.isBgmPlaying=!0,e}var o;return i(e,t),o=e,e.prototype.start=function(){o.ins=this},e.prototype.playMusic=function(t){void 0===t&&(t=1),this.isBgmPlaying=!0,null!=this.audioId?cc.audioEngine.resume(this.audioId):this.audioId=cc.audioEngine.play(this.bgmClip,!0,t)},e.prototype.playSound=function(t,e){var o;void 0===e&&(e=null),c.Global.canSound&&(t==a.Sound.fk_attack?(o=this.attackClip,null==e&&(e=.5)):t==a.Sound.fk_getGold&&(o=this.getGoldClip,null==e&&(e=1)),o&&cc.audioEngine.play(o,!1,e))},e.prototype.stopMusic=function(){this.isBgmPlaying=!1,null!=this.audioId&&cc.audioEngine.pause(this.audioId)},e.prototype.isMusicPlaying=function(){return this.isBgmPlaying},e.ins=null,n([u({type:cc.AudioClip,displayName:"bgm"})],e.prototype,"bgmClip",void 0),n([u({type:cc.AudioClip,displayName:"attack"})],e.prototype,"attackClip",void 0),n([u({type:cc.AudioClip,displayName:"\u6536\u83b7\u91d1\u5e01"})],e.prototype,"getGoldClip",void 0),o=n([s],e)}(cc.Component);a.AudioMgr=h,cc._RF.pop()},{"./Global":"Global"}],BossAttackedBloodTs:[function(t,e,a){"use strict";cc._RF.push(e,"9185b/JZkFBrq6Hz4lgsqHk","BossAttackedBloodTs");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),n=this&&this.__decorate||function(t,e,a,o){var i,n=arguments.length,c=n<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,a,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(c=(n<3?i(c):n>3?i(e,a,c):i(e,a))||c);return n>3&&c&&Object.defineProperty(e,a,c),c};Object.defineProperty(a,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,s=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.num=0,e}return i(e,t),e.prototype.start=function(){var t=this,e=cc.moveTo(0,this.node.x,this.node.y),a=cc.moveTo(.6,this.node.x,this.node.y+150),o=cc.sequence(e,a,cc.callFunc(function(){t.node.destroy()}));this.node.runAction(o)},n([r],e)}(cc.Component));a.default=s,cc._RF.pop()},{}],GameTs:[function(t,e,a){"use strict";cc._RF.push(e,"fc2aaY24F5JvqBA59j4+PFS","GameTs");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),n=this&&this.__decorate||function(t,e,a,o){var i,n=arguments.length,c=n<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,a,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(c=(n<3?i(c):n>3?i(e,a,c):i(e,a))||c);return n>3&&c&&Object.defineProperty(e,a,c),c};Object.defineProperty(a,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,s=c.property,u=t("./Global"),h=t("./AudioMgr"),d=t("./entity/Hero"),l=t("./entity/HeroFactory"),p=function(){this.name="",this.shijianList=[],this.workingTime=0,this.currTime=0,this.lastTime=0,this.curBossHp=1e5,this.curExp=0,this.playerLv=0,this.jingBiNum=0,this.curArmyNum=0,this.baoXianglastTime=0,this.dianJiLv=1,this.armyLv=1,this.heroMaxNumLv=1,this.criticalHitLv=1,this.bossLv=1,this.heros=[]},g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bossAttackedBloodPre=null,e.zhanjiPre=null,e.dianzhanPre=null,e.jbPre=null,e.tishi1=null,e.dbData=null,e.isExpFull=!1,e.baoXiangJingBi=0,e.showBaoXiangJingBi=0,e.baoxiangCd=5,e.shuruName="",e}return i(e,t),e.prototype.DBSave=function(){var t=JSON.stringify(this.dbData);cc.sys.localStorage.setItem("zzhdb1",t)},e.prototype.DBGet=function(){var t=cc.sys.localStorage.getItem("zzhdb1");try{this.dbData=JSON.parse(t),null==this.dbData?this.dbData=new p:this.dbData.curBossHp&&this.dbData.curBossHp>1e5&&(this.dbData.curBossHp=1e5)}catch(e){this.dbData=new p}return this.dbData},e.prototype.start=function(){var t=this;console.log("start"),h.AudioMgr.ins.playMusic(.3),this.DBGet(),this.initdbData(),this.jianTingDianji(),this.UpdateCurrTime(),this.updateArmyNum(),this.showArmyUpgradeInfo(),this.showHeroMaxNum(),this.updateBaoXiangCd(),this.showCriticalHitInfo(),this.schedule(function(){cc.find("Canvas/endLv").active||cc.find("Canvas/endName").active?t.unscheduleAllCallbacks():(t.dbData.currTime++,t.UpdateCurrTime(),t.updateBaoXiangCd(),t.dbData.playerLv>=1&&(t.dbData.curArmyNum+=t.getArmyAttack(),t.updateArmyNum()),t.DBSave())},1),this.setAttackSchedule()},e.prototype.setAttackSchedule=function(){for(var t=1;t<=this.dbData.heros.length;t++)1==t?this.schedule(this.heroOneAttack,1/this.dbData.heros[t-1].speed):2==t?this.schedule(this.heroTwoAttack,1/this.dbData.heros[t-1].speed):3==t?this.schedule(this.heroThreeAttack,1/this.dbData.heros[t-1].speed):4==t?this.schedule(this.heroFourAttack,1/this.dbData.heros[t-1].speed):5==t&&this.schedule(this.heroFiveAttack,1/this.dbData.heros[t-1].speed)},e.prototype.heroOneAttack=function(){this.heroAttack(1)},e.prototype.heroTwoAttack=function(){this.heroAttack(2)},e.prototype.heroThreeAttack=function(){this.heroAttack(3)},e.prototype.heroFourAttack=function(){this.heroAttack(4)},e.prototype.heroFiveAttack=function(){this.heroAttack(5)},e.prototype.getArmyAttack=function(){return this.dbData.armyLv-1==0?1:10*(this.dbData.armyLv-1)},e.prototype.heroAttack=function(t){cc.find("Canvas/endLv").active||cc.find("Canvas/endName").active?this.unscheduleAllCallbacks():this.heroAuto(t)},e.prototype.getcurrMax=function(){return[10,10,100,500,1e3,2e3,5e3,1e4,1e4,2e4,2e4,2e4,3e4,3e4,3e4,3e4,4e4,4e4,4e4,4e4,4e4,4e4,5e4,5e4,5e4,6e4,6e4,6e4,7e4,7e4,7e4,8e4,8e4,8e4,9e4,9e4,9e4,1e5][this.dbData.playerLv]||1e5},e.prototype.getCurBossHp=function(){return[100,200,500,1e3,2e3,5e3,1e4,2e4,5e4,1e5,2e5,5e5,1e6,2e6,5e6,1e7,2e7,5e7,1e8][this.dbData.bossLv-1]||1e8},e.prototype.initdbData=function(){var t=this;this.GetAllJingDuMiaoShuNode().getComponent(cc.Label).string=this.dbData.curBossHp+"/100000",this.GetAllJingDuTiaoNode().getComponent(cc.Sprite).fillRange=this.dbData.curBossHp/1e5;var e=this.getcurrMax();if(this.GetJingDuMiaoShuNode().getComponent(cc.Label).string=this.dbData.curExp+"/"+e,this.GetJingDuTiaoNode().getComponent(cc.Sprite).fillRange=this.dbData.curExp/e,this.GetJingbiTxtNode().getComponent(cc.Label).string=this.dbData.jingBiNum,this.dbData.playerLv<1){var a=cc.find("Canvas/startTishi");a.active=!0,this.schedule(function(){t.shanSuo(a)},1.2,10)}if(this.dbData.playerLv>=1&&(this.GetCanNode().active=!0),this.dbData.playerLv>=3&&(this.GetBaoXiangNode().active=!0),this.dbData.playerLv>=2&&(this.GetHeroMaxNumLvNode().active=!0,this.GetCriticalHitLvNode().active=!0,this.showHero()),this.showWeaponLv(),this.GetJingDuTiaoFuZhuNode().getChildByName("LvLabel").getComponent(cc.Label).string="Lv."+this.dbData.playerLv,this.dbData.heros&&this.dbData.heros.length>0){for(var o=0;o<this.dbData.heros.length;o++){var i=this.dbData.heros[o];this.dbData.heros[o]=new d.Hero(i.grade,i.name,i.attack,i.speed,i.gold,i.skills)}l.HeroFactory.getInstance().setHeros(this.dbData.heros)}},e.prototype.jianTingDianji=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(e){var a=e.getLocation();if(100*Math.random()>=0){var o=cc.instantiate(t.jbPre);o.setPosition(a.x,a.y),o.setParent(cc.director.getScene()),t.dianjiAddJb(1)}t.normalAttack("0",Math.floor(1*t.dbData.dianJiLv))})},e.prototype.attackReal=function(t){this.dbData.curBossHp-=t;var e=this.GetBossHurtNode();if(e.scaleX=this.dbData.curExp/1e5,e.scaleY=this.dbData.curExp/1e5,this.dbData.curBossHp<=0)return this.dbData.curBossHp=0,cc.find("Canvas/endLv").active=!0,void console.log("\u606d\u559c\u901a\u5173");this.GetAllJingDuMiaoShuNode().getComponent(cc.Label).string=this.dbData.curBossHp+"/100000",this.GetAllJingDuTiaoNode().getComponent(cc.Sprite).fillRange=this.dbData.curBossHp/1e5,this.GetJingbiTxtNode().getComponent(cc.Label).string=this.dbData.jingBiNum},e.prototype.addJingBi=function(t){this.dbData.jingBiNum=Number(this.dbData.jingBiNum),this.dbData.jingBiNum+=t,this.GetJingbiTxtNode().getComponent(cc.Label).string=this.dbData.jingBiNum},e.prototype.consumeJingBi=function(t){return this.dbData.jingBiNum<t?(this.Tishi1("\u91d1\u5e01\u4e0d\u8db3"),!1):(this.dbData.jingBiNum=Number(this.dbData.jingBiNum),this.dbData.jingBiNum-=t,this.GetJingbiTxtNode().getComponent(cc.Label).string=this.dbData.jingBiNum,!0)},e.prototype.upgradeWeapon=function(){this.consumeJingBi(20)&&(h.AudioMgr.ins.playSound(h.Sound.fk_attack),this.dbData.dianJiLv=Number((this.dbData.dianJiLv+.1).toFixed(1)),this.showWeaponLv())},e.prototype.showWeaponLv=function(){this.dbData.dianJiLv>=5&&(this.dbData.dianJiLv=5,this.GetWeaponLvNode().getChildByName("\u91d1\u5e01").active=!1,this.GetWeaponLvNode().getChildByName("djUpBtn").active=!1,this.GetWeaponLvNode().getChildByName("djMaxBtn").active=!0),this.GetWeaponLvNode().getChildByName("info").getComponent(cc.Label).string=this.dbData.dianJiLv+"\u653b\u51fb\u500d\u7387",this.GetWeaponLvNode().getChildByName("lv").getComponent(cc.Label).string=this.dbData.dianJiLv+""},e.prototype.showAllInfo=function(){if(this.dbData.curBossHp<=0)return this.dbData.curBossHp=0,void(cc.find("Canvas/endName").active=!0);this.GetAllJingDuMiaoShuNode().getComponent(cc.Label).string=this.dbData.curBossHp+"/100000",this.GetAllJingDuTiaoNode().getComponent(cc.Sprite).fillRange=this.dbData.curBossHp/1e5},e.prototype.dianjiArmy=function(){var t=this;if(!(this.dbData.curArmyNum<=0)){var e=this.GetArmyNode().x,a=this.GetArmyNode().y,o=this.dbData.curArmyNum;this.GetArmyProgressNode().opacity=0,this.GetArmyTxtNode().opacity=0;var i=cc.moveTo(.3,-7,455),n=cc.scaleTo(.3,.3,.3),c=cc.spawn(i,n),r=cc.sequence(c,cc.callFunc(function(){t.specialAttack("army",o),t.dbData.curArmyNum=0,t.updateArmyNum(),t.GetArmyNode().x=e,t.GetArmyNode().y=a,t.GetArmyNode().scaleX=1,t.GetArmyNode().scaleY=1,t.GetArmyProgressNode().opacity=255,t.GetArmyTxtNode().opacity=255}));this.GetArmyNode().runAction(r)}},e.prototype.upgradeArmy=function(){this.consumeJingBi(30)&&(h.AudioMgr.ins.playSound(h.Sound.fk_attack),this.dbData.armyLv++,this.showArmyUpgradeInfo())},e.prototype.upgradeHeroMaxNum=function(){console.log("\u89c2\u770b\u5e7f\u544a\uff0c\u5347\u7ea7\u82f1\u96c4\u6700\u5927\u6570\u91cf"),h.AudioMgr.ins.playSound(h.Sound.fk_attack),this.dbData.heroMaxNumLv++,l.HeroFactory.getInstance().createHero(),this.dbData.heros=l.HeroFactory.getInstance().getHeros(),this.showHero(),this.showHeroMaxNum(),this.setAttackSchedule()},e.prototype.showHero=function(){if(this.dbData.heros&&this.dbData.heros.length>0)for(var t=1;t<=this.dbData.heros.length;t++){this.GetHerosNode().getChildByName("hero"+t).active=!0;var e=this.dbData.heros[t-1],a=this.GetHerosNode().getChildByName("hero"+t),o=e.name;this.setHeroNode(o,a)}},e.prototype.setHeroNode=function(t,e){var a=e.getComponent(cc.Sprite),o=l.HeroFactory.getInstance().getHeroSpriteInfo(t),i="Image/heros/"+o.spriteName;cc.loader.loadRes(i,cc.SpriteFrame,function(t,e){t?console.error("\u83b7\u53d6\u82f1\u96c4\u7684spriteFrame\u5931\u8d25\uff1a",t):(a.spriteFrame=e,a.node.width=o.spriteWidth,a.node.height=o.spriteHeight)})},e.prototype.updateArmyNum=function(){var t=60*this.getArmyAttack();this.dbData.curArmyNum>t&&(this.dbData.curArmyNum=t,this.shanSuo(this.GetArmyNode())),this.GetArmyProgressNode().getComponent(cc.ProgressBar).progress=this.dbData.curArmyNum/t,this.GetArmyTxtNode().getComponent(cc.Label).string=this.dbData.curArmyNum},e.prototype.showArmyUpgradeInfo=function(){this.GetArmyLvNode().getChildByName("info").getComponent(cc.Label).string=this.getArmyAttack()+"\u4eba/\u79d2",this.GetArmyLvNode().getChildByName("lv").getComponent(cc.Label).string=this.dbData.armyLv+""},e.prototype.showHeroMaxNum=function(){console.log("\u663e\u793a\u82f1\u96c4\u6700\u5927\u6570\u91cf",this.dbData.heroMaxNumLv),this.dbData.heroMaxNumLv>=5&&(this.dbData.heroMaxNumLv=5,this.GetHeroMaxNumLvNode().getChildByName("\u91d1\u5e01").active=!1,this.GetHeroMaxNumLvNode().getChildByName("djUpBtn").active=!1,this.GetHeroMaxNumLvNode().getChildByName("djMaxBtn").active=!0),this.GetHeroMaxNumLvNode().getChildByName("info").getComponent(cc.Label).string=this.dbData.heroMaxNumLv+"\u4eba",this.GetHeroMaxNumLvNode().getChildByName("lv").getComponent(cc.Label).string=this.dbData.heroMaxNumLv+""},e.prototype.normalAttack=function(t,e,a){void 0===a&&(a=null),h.AudioMgr.ins.playSound(h.Sound.fk_attack);var o,i=cc.find("mubiao");"2"==t?(o=cc.instantiate(this.zhanjiPre),null!=a&&this.setZhanjiSprite(a.name,o)):"0"==t&&(o=cc.instantiate(this.dianzhanPre)),o.name=t,o.setPosition(i.x,i.y);var n=360*Math.random()-180;o.setRotation(n),o.setParent(cc.find("Canvas/texiao"));var c=!1;100*Math.random()<=this.dbData.criticalHitLv&&(c=!0),c&&(e*=2),this.bossHurt(e,c)},e.prototype.specialAttack=function(t,e){this.bossHurt(e)},e.prototype.setZhanjiSprite=function(t,e){var a=e.getComponent(cc.Sprite),o=l.HeroFactory.getInstance().getHeroSpriteInfo(t),i="/"+o.attackSprite;cc.loader.loadRes(i,cc.SpriteFrame,function(t,e){t?console.error("\u83b7\u53d6\u82f1\u96c4\u7684attack spriteFrame\u5931\u8d25\uff1a",t):(a.spriteFrame=e,a.node.width=o.attackSpriteWidth,a.node.height=o.attackSpriteHeight)})},e.prototype.bossHurt=function(t,e){void 0===e&&(e=!1),this.GetBossNode().getComponent(cc.Animation).play("BossAttacked");var a=cc.find("mubiao"),o=cc.instantiate(this.bossAttackedBloodPre);o.setPosition(a.x+75+10*Math.random(),a.y+115+10*Math.random()),o.setParent(cc.find("Canvas/texiao")),o.getComponent(cc.Label).string=t+"";var i=0;t>1e5?i+=15:t>1e4?i+=10:t>1e3?i+=5:t>100&&(i+=2),e&&(i+=5,o.getChildByName("Baoji").active=!0,o.getChildByName("Baoji").getComponent(cc.Label).fontSize+=i),o.getComponent(cc.Label).fontSize+=i,this.addExp(t),this.attackReal(t)},e.prototype.heroAuto=function(t){if(!(this.dbData.playerLv<2)){var e=this.dbData.heros[t-1],a=e.getFinalAttack(this.dbData.dianJiLv);this.normalAttack("2",a,e);var o=cc.scaleTo(.25,1,1),i=cc.scaleTo(.25,.8,.8),n=cc.sequence(o,i,cc.callFunc(function(){}));this.GetHerosNode().getChildByName("hero"+t).runAction(n);var c=cc.instantiate(this.jbPre);c.setPosition(348,400),c.setParent(cc.find("Canvas/texiao")),this.dianjiAddJb(e.gold)}},e.prototype.upgradeCriticalHit=function(){this.consumeJingBi(10)&&(h.AudioMgr.ins.playSound(h.Sound.fk_attack),this.dbData.criticalHitLv=Number((this.dbData.criticalHitLv+1).toFixed(1)),this.showCriticalHitInfo())},e.prototype.showCriticalHitInfo=function(){this.dbData.criticalHitLv>=50&&(this.dbData.criticalHitLv=50,this.GetCriticalHitLvNode().getChildByName("\u91d1\u5e01").active=!1,this.GetCriticalHitLvNode().getChildByName("djUpBtn").active=!1,this.GetCriticalHitLvNode().getChildByName("djMaxBtn").active=!0),this.GetCriticalHitLvNode().getChildByName("info").getComponent(cc.Label).string=this.dbData.criticalHitLv+"%",this.GetCriticalHitLvNode().getChildByName("lv").getComponent(cc.Label).string=this.dbData.criticalHitLv+""},e.prototype.GetCurrTime=function(){if(0==this.dbData.currTime){var t=new Date;this.dbData.currTime=Math.floor(t.getTime()/1e3)}return this.dbData.currTime},e.prototype.updateBaoXiangCd=function(){var t=0;this.dbData.baoXianglastTime+this.baoxiangCd>this.GetCurrTime()&&(t=this.dbData.baoXianglastTime+this.baoxiangCd-this.GetCurrTime()),t<=0?(cc.find("Canvas/can/baoXiangBtn/Background/Label").getComponent(cc.Label).string="",this.shanSuo(cc.find("Canvas/can/baoXiangBtn"))):cc.find("Canvas/can/baoXiangBtn/Background/Label").getComponent(cc.Label).string=""+t},e.prototype.showBaoXiang=function(){this.dbData.baoXianglastTime+this.baoxiangCd>this.GetCurrTime()?this.Tishi1("\u65f6\u95f4\u6ca1\u6709\u5230"):(this.baoXiangJingBi=0,this.showBaoXiangJingBi=0,this.dbData.baoXianglastTime=this.GetCurrTime(),this.showBaoXiangJingBi=Math.floor(900*Math.random())+100,this.showBaoXiangJingBi>0&&(cc.find("Canvas/BaoXiangLingQubg/info").getComponent(cc.RichText).string="<color=#000000>\u91d1\u5e01:"+this.showBaoXiangJingBi+"</c>"),cc.find("Canvas/BaoXiangLingQubg").active=!0)},e.prototype.lingquBaoXiang=function(t){if(cc.find("Canvas/BaoXiangLingQubg").active=!1,isNaN(t)&&(t=1),this.baoXiangJingBi=this.showBaoXiangJingBi*t,this.baoXiangJingBi>0){console.log("-----\u91d1\u5e01------",this.baoXiangJingBi);for(var e=0;e<30;e++){var a=cc.instantiate(this.jbPre);a.setPosition(350+100*Math.random(),700+100*Math.random()),a.setParent(cc.director.getScene())}this.dianjiAddJb(this.baoXiangJingBi),this.baoXiangJingBi=0}},e.prototype.adlingquBaoXiang=function(){this.lingquBaoXiang(3)},e.prototype.dianjiAddJb=function(t){this.dbData.jingBiNum=this.dbData.jingBiNum+t,this.GetJingbiTxtNode().getComponent(cc.Label).string=this.dbData.jingBiNum},e.prototype.addExp=function(t){if(!this.isExpFull){this.dbData.curExp+=t;var e=this.getcurrMax();if(this.dbData.curExp>=e){if(this.isExpFull=!0,this.GetNoDianJiNode().active=!0,this.GetJingDuTiaoNode().getComponent(cc.Sprite).fillRange=this.dbData.curExp/e,h.AudioMgr.ins.playSound(h.Sound.fk_getGold,1),this.dbData.curExp=0,this.GetJingDuMiaoShuNode().getComponent(cc.Label).string=this.dbData.curExp+"/"+e,this.GetNoDianJiNode().active=!1,this.isExpFull=!1,this.dbData.curExp=0,this.GetJingDuMiaoShuNode().getComponent(cc.Label).string=this.dbData.curExp+"/"+e,this.dbData.playerLv++,this.GetJingDuTiaoFuZhuNode().getChildByName("LvLabel").getComponent(cc.Label).string="Lv."+this.dbData.playerLv,cc.find("Canvas/startTishi").active=!1,1==this.dbData.playerLv){this.GetCanNode().active=!0,this.GetCan1Node().active=!0;var a=cc.scaleTo(.6,1,1),o=cc.sequence(a,cc.callFunc(function(){}));this.GetCan1MiaosTxtNode().runAction(o)}3==this.dbData.playerLv&&(this.GetBaoXiangNode().active=!0,this.GetCan2Node().active=!0,a=cc.scaleTo(.6,1,1),o=cc.sequence(a,cc.callFunc(function(){})),this.GetCan2MiaosTxtNode().runAction(o)),2==this.dbData.playerLv&&(l.HeroFactory.getInstance().createHero(),this.dbData.heros=l.HeroFactory.getInstance().getHeros(),this.showHero(),this.GetHeroMaxNumLvNode().active=!0,this.GetCriticalHitLvNode().active=!0,this.GetCan3Node().active=!0,a=cc.scaleTo(.6,1,1),o=cc.sequence(a,cc.callFunc(function(){})),this.GetCan3MiaosTxtNode().runAction(o),this.setAttackSchedule())}else this.GetJingDuMiaoShuNode().getComponent(cc.Label).string=this.dbData.curExp+"/"+e,this.GetJingDuTiaoNode().getComponent(cc.Sprite).fillRange=this.dbData.curExp/e}},e.prototype.CanShow1Close=function(){cc.find("Canvas/can/can1").active=!1},e.prototype.CanShow2Close=function(){cc.find("Canvas/can/can2").active=!1},e.prototype.CanShow3Close=function(){cc.find("Canvas/can/can3").active=!1},e.prototype.Tishi1=function(t){var e=cc.instantiate(this.tishi1);e.setParent(cc.director.getScene()),e.getComponent(cc.Label).string=t;var a=cc.scaleTo(.4,2.5,2.5),o=cc.scaleTo(.4,1,1),i=cc.scaleTo(.2,.5,.5),n=cc.sequence(a,o,i,cc.callFunc(function(){e.destroy()}));e.runAction(n)},e.prototype.UpdateCurrTime=function(){this.dbData.workingTime++,this.GetTimeNode().getComponent(cc.Label).string=this.secTotime(this.dbData.workingTime)},e.prototype.secTotime=function(t){var e="";if(t>-1){var a=Math.floor(t/3600),o=Math.floor(t/60)%60,i=t%60;e=a<10?"0"+a+":":a+":",o<10&&(e+="0"),e+=o+":",i<10&&(e+="0"),e+=i.toFixed(0)}return e},e.prototype.shanSuo=function(t){var e=cc.scaleTo(.25,1.2,1.2),a=cc.scaleTo(.25,1,1),o=cc.sequence(e,a,cc.callFunc(function(){}));t.runAction(o)},e.prototype.GetAllJingDuTiaoFuZhuNode=function(){return cc.find("Canvas/AllJingDuTiaofuzhu")},e.prototype.GetAllJingDuTiaoNode=function(){return this.GetAllJingDuTiaoFuZhuNode().getChildByName("AllJingDuTiao")},e.prototype.GetAllJingDuMiaoShuNode=function(){return this.GetAllJingDuTiaoFuZhuNode().getChildByName("AllJingDuTiao").getChildByName("JingDuMiaoShu")},e.prototype.GetJingDuTiaoFuZhuNode=function(){return cc.find("Canvas/JingDuTiaofuzhu")},e.prototype.GetJingDuTiaoNode=function(){return this.GetJingDuTiaoFuZhuNode().getChildByName("JingDuTiao")},e.prototype.GetJingDuMiaoShuNode=function(){return this.GetJingDuTiaoFuZhuNode().getChildByName("JingDuTiao").getChildByName("JingDuMiaoShu")},e.prototype.GetBossNode=function(){return cc.find("Canvas/boss/bossSprite")},e.prototype.GetBossHurtNode=function(){return cc.find("Canvas/boss/bossHurt/bossHurtSprite")},e.prototype.GetJingbiTxtNode=function(){return cc.find("Canvas/jingbi/jingbiTxt")},e.prototype.GetTimeNode=function(){return cc.find("Canvas/time")},e.prototype.GetNoDianJiNode=function(){return cc.find("noDianJi")},e.prototype.GetCanNode=function(){return cc.find("Canvas/can")},e.prototype.GetHerosNode=function(){return cc.find("Canvas/can/heros")},e.prototype.GetCan1Node=function(){return cc.find("Canvas/can/can1")},e.prototype.GetCan2Node=function(){return cc.find("Canvas/can/can2")},e.prototype.GetCan3Node=function(){return cc.find("Canvas/can/can3")},e.prototype.GetCan1MiaosTxtNode=function(){return cc.find("Canvas/can/can1/miaosTxt")},e.prototype.GetCan2MiaosTxtNode=function(){return cc.find("Canvas/can/can2/miaosTxt")},e.prototype.GetCan3MiaosTxtNode=function(){return cc.find("Canvas/can/can3/miaosTxt")},e.prototype.GetBaoXiangNode=function(){return cc.find("Canvas/can/baoXiangBtn")},e.prototype.GetArmyNode=function(){return cc.find("Canvas/can/armyBtn")},e.prototype.GetArmyProgressNode=function(){return this.GetArmyNode().getChildByName("ProgressBar")},e.prototype.GetArmyTxtNode=function(){return this.GetArmyNode().getChildByName("txt")},e.prototype.GetWeaponLvNode=function(){return cc.find("Canvas/can/layout/upgradeOne")},e.prototype.GetArmyLvNode=function(){return cc.find("Canvas/can/layout/upgradeTwo")},e.prototype.GetHeroMaxNumLvNode=function(){return cc.find("Canvas/can/layout/upgradeThree")},e.prototype.GetCriticalHitLvNode=function(){return cc.find("Canvas/can/layout/upgradeFour")},e.prototype.nameShuchuEnd3=function(t){this.shuruName=t._string},e.prototype.setName=function(){this.dbData.name=this.shuruName,this.updateRank(),cc.find("Canvas/endName").active=!1,cc.find("Canvas/endLv").active=!0,console.log("\u606d\u559c\u901a\u5173")},e.prototype.closePhb=function(){cc.find("Canvas/phbLv").active=!1},e.prototype.phb=function(){cc.find("Canvas/phbLv").active=!0},e.prototype.updateRank=function(){console.log("\u66f4\u65b0\u6392\u884c\u699c",this.dbData.name,this.dbData.workingTime);this.dbData.name;this.dbData.workingTime},e.prototype.zaiLaiYici=function(){cc.find("Canvas/endLv").active=!1,cc.sys.localStorage.removeItem("zzhdb1"),l.HeroFactory.getInstance().clearHeros(),h.AudioMgr.ins.stopMusic(),this.dbData.curBossHp=1e5,cc.director.loadScene("game",function(){})},e.prototype.callbackBtn=function(t,e){"btn_sound_on"==e||"btn_sound_off"==e?(u.Global.canSound=!u.Global.canSound,console.log("Global.canSound",u.Global.canSound),this.refreshBtnMusic("btn_sound_on","btn_sound_off","sound")):"btn_music_on"!=e&&"btn_music_off"!=e||(u.Global.canMusic=!u.Global.canMusic,console.log("Global.canMusic",u.Global.canMusic),this.refreshBtnMusic("btn_music_on","btn_music_off","music"))},e.prototype.refreshBtnMusic=function(t,e,a){var o="music"==a?u.Global.canMusic:u.Global.canSound;this.node.getChildByName(t).active=o,this.node.getChildByName(e).active=!o,"music"==a&&(u.Global.canMusic?h.AudioMgr.ins.isMusicPlaying()||h.AudioMgr.ins.playMusic(.3):h.AudioMgr.ins.isMusicPlaying()&&(console.log("\u505c\u6b62\u97f3\u4e50"),h.AudioMgr.ins.stopMusic()))},n([s({type:cc.Prefab,displayName:"\u6389\u8840"})],e.prototype,"bossAttackedBloodPre",void 0),n([s({type:cc.Prefab,displayName:"\u65a9\u51fb"})],e.prototype,"zhanjiPre",void 0),n([s({type:cc.Prefab,displayName:"\u70b9\u51fb\u65a9\u51fb"})],e.prototype,"dianzhanPre",void 0),n([s({type:cc.Prefab,displayName:"\u91d1\u5e01"})],e.prototype,"jbPre",void 0),n([s({type:cc.Prefab,displayName:"\u63d0\u793a1"})],e.prototype,"tishi1",void 0),n([r],e)}(cc.Component);a.default=g,cc._RF.pop()},{"./AudioMgr":"AudioMgr","./Global":"Global","./entity/Hero":"Hero","./entity/HeroFactory":"HeroFactory"}],Global:[function(t,e,a){"use strict";cc._RF.push(e,"c9d84biY2tITLglqYZ1BD5g","Global"),Object.defineProperty(a,"__esModule",{value:!0}),a.Global=void 0;var o=cc._decorator,i=(o.ccclass,o.property,function(){function t(){}return t.canSound=!0,t.canMusic=!0,t}());a.Global=i,cc._RF.pop()},{}],HeroFactory:[function(t,e,a){"use strict";cc._RF.push(e,"8fffb0H1xBFQr3fmhFKZyV1","HeroFactory"),Object.defineProperty(a,"__esModule",{value:!0}),a.HeroFactory=void 0;var o=cc._decorator,i=(o.ccclass,o.property,t("./Hero")),n=function(){function t(){this.heros=[],this.heroData={"\u70ad\u6cbb\u90ce":[10,.4,5,[{name:"\u57fa\u7840\u529b\u91cf",attack:5,unlock:!1},{name:"\u57fa\u7840\u6280\u5de7",attack:5,unlock:!1},{name:"\u57fa\u7840\u901f\u5ea6",attack:5,unlock:!1},{name:"\u8fdb\u9636\u529b\u91cf",attack:5,unlock:!1},{name:"\u8fdb\u9636\u6280\u5de7",attack:5,unlock:!1},{name:"\u8fdb\u9636\u901f\u5ea6",attack:5,unlock:!1},{name:"\u6781\u9650\u95ea\u907f",attack:5,unlock:!1},{name:"\u7cbe\u51c6\u65a9\u51fb",attack:5,unlock:!1},{name:"\u7834\u7efd\u611f\u77e5",attack:5,unlock:!1},{name:"\u5168\u96c6\u4e2d\u547c\u5438\xb7\u5e38\u4e2d",attack:5,unlock:!1},{name:"\u5168\u96c6\u4e2d\u547c\u5438\xb7\u6b62\u8840",attack:5,unlock:!1},{name:"\u5168\u96c6\u4e2d\u547c\u5438\xb7\u89c9\u9192",attack:5,unlock:!1},{name:"\u6c34\u4e4b\u547c\u5438\xb7\u58f9\u4e4b\u578b \u6c34\u9762\u65a9",attack:10,unlock:!1},{name:"\u6c34\u4e4b\u547c\u5438\xb7\u8d30\u4e4b\u578b \u6c34\u8f66",attack:10,unlock:!1},{name:"\u6c34\u4e4b\u547c\u5438\xb7\u53c1\u4e4b\u578b \u6d41\u6d41\u821e",attack:10,unlock:!1},{name:"\u6c34\u4e4b\u547c\u5438\xb7\u8086\u4e4b\u578b \u6253\u51fb\u4e4b\u6f6e",attack:20,unlock:!1},{name:"\u6c34\u4e4b\u547c\u5438\xb7\u4f0d\u4e4b\u578b \u5e72\u5929\u7684\u6148\u96e8",attack:20,unlock:!1},{name:"\u6c34\u4e4b\u547c\u5438\xb7\u9646\u4e4b\u578b \u626d\u8f6c\u6f29\u6da1",attack:20,unlock:!1},{name:"\u6c34\u4e4b\u547c\u5438\xb7\u67d2\u4e4b\u578b \u96eb\u6ce2\u7eb9\u51fb\u523a",attack:30,unlock:!1},{name:"\u6c34\u4e4b\u547c\u5438\xb7\u634c\u4e4b\u578b \u6cf7\u58f6",attack:30,unlock:!1},{name:"\u6c34\u4e4b\u547c\u5438\xb7\u7396\u4e4b\u578b \u6c34\u6d41\u98de\u6cab",attack:30,unlock:!1},{name:"\u6c34\u4e4b\u547c\u5438\xb7\u62fe\u4e4b\u578b \u751f\u751f\u6d41\u8f6c",attack:50,unlock:!1},{name:"\u706b\u4e4b\u795e\u795e\u4e50\xb7\u5706\u821e",attack:50,unlock:!1},{name:"\u706b\u4e4b\u795e\u795e\u4e50\xb7\u78a7\u7f57\u4e4b\u5929",attack:50,unlock:!1},{name:"\u5706\u821e\u4e00\u95ea",attack:100,unlock:!1},{name:"\u6df7\u5408\u547c\u5438",attack:100,unlock:!1},{name:"\u8d6b\u5200",attack:100,unlock:!1},{name:"\u706b\u4e4b\u795e\u795e\u4e50\xb7\u707c\u9aa8\u708e\u9633",attack:200,unlock:!1},{name:"\u706b\u4e4b\u795e\u795e\u4e50\xb7\u8f89\u8f89\u6069\u5149",attack:200,unlock:!1},{name:"\u706b\u4e4b\u795e\u795e\u4e50\xb7\u65e5\u6655\u4e4b\u9f99\xb7\u5934\u821e",attack:200,unlock:!1}]],"\u5584\u9038":[8,.7,5,[{name:"\u57fa\u7840\u529b\u91cf",attack:5,unlock:!1},{name:"\u57fa\u7840\u6280\u5de7",attack:5,unlock:!1},{name:"\u57fa\u7840\u901f\u5ea6",attack:5,unlock:!1},{name:"\u8fdb\u9636\u529b\u91cf",attack:5,unlock:!1},{name:"\u8fdb\u9636\u6280\u5de7",attack:5,unlock:!1},{name:"\u8fdb\u9636\u901f\u5ea6",attack:5,unlock:!1},{name:"\u6781\u9650\u95ea\u907f",attack:5,unlock:!1},{name:"\u7cbe\u51c6\u65a9\u51fb",attack:5,unlock:!1},{name:"\u7834\u7efd\u611f\u77e5",attack:5,unlock:!1},{name:"\u5168\u96c6\u4e2d\u547c\u5438\xb7\u5e38\u4e2d",attack:5,unlock:!1},{name:"\u5168\u96c6\u4e2d\u547c\u5438\xb7\u6b62\u8840",attack:5,unlock:!1},{name:"\u5168\u96c6\u4e2d\u547c\u5438\xb7\u89c9\u9192",attack:5,unlock:!1},{name:"\u96f7\u4e4b\u547c\u5438\xb7\u58f9\u4e4b\u578b \u9739\u96f3\u4e00\u95ea",attack:10,unlock:!1},{name:"\u96f7\u4e4b\u547c\u5438\xb7\u58f9\u4e4b\u578b \u9739\u96f3\u4e00\u95ea\xb7\u4e8c\u8fde",attack:10,unlock:!1},{name:"\u96f7\u4e4b\u547c\u5438\xb7\u58f9\u4e4b\u578b \u9739\u96f3\u4e00\u95ea\xb7\u4e09\u8fde",attack:10,unlock:!1},{name:"\u96f7\u4e4b\u547c\u5438\xb7\u58f9\u4e4b\u578b \u9739\u96f3\u4e00\u95ea\xb7\u56db\u8fde",attack:20,unlock:!1},{name:"\u96f7\u4e4b\u547c\u5438\xb7\u58f9\u4e4b\u578b \u9739\u96f3\u4e00\u95ea\xb7\u4e94\u8fde",attack:20,unlock:!1},{name:"\u96f7\u4e4b\u547c\u5438\xb7\u58f9\u4e4b\u578b \u9739\u96f3\u4e00\u95ea\xb7\u516d\u8fde",attack:20,unlock:!1},{name:"\u96f7\u4e4b\u547c\u5438\xb7\u58f9\u4e4b\u578b \u9739\u96f3\u4e00\u95ea\xb7\u4e03\u8fde",attack:30,unlock:!1},{name:"\u96f7\u4e4b\u547c\u5438\xb7\u58f9\u4e4b\u578b \u9739\u96f3\u4e00\u95ea\xb7\u516b\u8fde",attack:30,unlock:!1},{name:"\u96f7\u4e4b\u547c\u5438\xb7\u58f9\u4e4b\u578b \u9739\u96f3\u4e00\u95ea\xb7\u795e\u901f",attack:30,unlock:!1},{name:"\u547c\u5438\u6280\u7a81\u7834",attack:50,unlock:!1},{name:"\u96f7\u4e4b\u547c\u5438\xb7\u8d30\u4e4b\u578b \u7a3b\u9b42",attack:50,unlock:!1},{name:"\u96f7\u4e4b\u547c\u5438\xb7\u53c1\u4e4b\u578b \u805a\u868a\u6210\u96f7",attack:50,unlock:!1},{name:"\u96f7\u4e4b\u547c\u5438\xb7\u8086\u4e4b\u578b \u8fdc\u96f7",attack:100,unlock:!1},{name:"\u96f7\u4e4b\u547c\u5438\xb7\u4f0d\u4e4b\u578b \u70ed\u754c\u96f7",attack:100,unlock:!1},{name:"\u96f7\u4e4b\u547c\u5438\xb7\u9646\u4e4b\u578b \u7535\u8f70\u96f7\u8f70",attack:100,unlock:!1},{name:"\u96f7\u4e4b\u547c\u5438\xb7\u67d2\u4e4b\u578b \u706b\u96f7\u795e",attack:200,unlock:!1},{name:"\u96f7\u4e4b\u547c\u5438\xb7\u67d2\u4e4b\u578b \u706b\u96f7\u795e\xb7\u8fdb\u9636",attack:200,unlock:!1},{name:"\u96f7\u4e4b\u547c\u5438\xb7\u67d2\u4e4b\u578b \u706b\u96f7\u795e\xb7\u89c9\u9192",attack:200,unlock:!1}]],"\u4f0a\u4e4b\u52a9":[12,.2,5,[{name:"\u57fa\u7840\u529b\u91cf",attack:5,unlock:!1},{name:"\u57fa\u7840\u6280\u5de7",attack:5,unlock:!1},{name:"\u57fa\u7840\u901f\u5ea6",attack:5,unlock:!1},{name:"\u8fdb\u9636\u529b\u91cf",attack:5,unlock:!1},{name:"\u8fdb\u9636\u6280\u5de7",attack:5,unlock:!1},{name:"\u8fdb\u9636\u901f\u5ea6",attack:5,unlock:!1},{name:"\u6781\u9650\u95ea\u907f",attack:5,unlock:!1},{name:"\u7cbe\u51c6\u65a9\u51fb",attack:5,unlock:!1},{name:"\u7834\u7efd\u611f\u77e5",attack:5,unlock:!1},{name:"\u5168\u96c6\u4e2d\u547c\u5438\xb7\u5e38\u4e2d",attack:5,unlock:!1},{name:"\u5168\u96c6\u4e2d\u547c\u5438\xb7\u6b62\u8840",attack:5,unlock:!1},{name:"\u5168\u96c6\u4e2d\u547c\u5438\xb7\u89c9\u9192",attack:5,unlock:!1}]],"\u5f25\u8c46\u5b50":[8,.3,5,[{name:"\u57fa\u7840\u529b\u91cf",attack:5,unlock:!1},{name:"\u57fa\u7840\u6280\u5de7",attack:5,unlock:!1},{name:"\u57fa\u7840\u901f\u5ea6",attack:5,unlock:!1},{name:"\u8fdb\u9636\u529b\u91cf",attack:5,unlock:!1},{name:"\u8fdb\u9636\u6280\u5de7",attack:5,unlock:!1},{name:"\u8fdb\u9636\u901f\u5ea6",attack:5,unlock:!1},{name:"\u6781\u9650\u95ea\u907f",attack:5,unlock:!1},{name:"\u7cbe\u51c6\u65a9\u51fb",attack:5,unlock:!1},{name:"\u7834\u7efd\u611f\u77e5",attack:5,unlock:!1},{name:"\u5168\u96c6\u4e2d\u547c\u5438\xb7\u5e38\u4e2d",attack:5,unlock:!1},{name:"\u5168\u96c6\u4e2d\u547c\u5438\xb7\u6b62\u8840",attack:5,unlock:!1},{name:"\u5168\u96c6\u4e2d\u547c\u5438\xb7\u89c9\u9192",attack:5,unlock:!1}]],"\u65e0\u4e00\u90ce":[8,.5,5,[{name:"\u57fa\u7840\u529b\u91cf",attack:5,unlock:!1},{name:"\u57fa\u7840\u6280\u5de7",attack:5,unlock:!1},{name:"\u57fa\u7840\u901f\u5ea6",attack:5,unlock:!1},{name:"\u8fdb\u9636\u529b\u91cf",attack:5,unlock:!1},{name:"\u8fdb\u9636\u6280\u5de7",attack:5,unlock:!1},{name:"\u8fdb\u9636\u901f\u5ea6",attack:5,unlock:!1},{name:"\u6781\u9650\u95ea\u907f",attack:5,unlock:!1},{name:"\u7cbe\u51c6\u65a9\u51fb",attack:5,unlock:!1},{name:"\u7834\u7efd\u611f\u77e5",attack:5,unlock:!1},{name:"\u5168\u96c6\u4e2d\u547c\u5438\xb7\u5e38\u4e2d",attack:5,unlock:!1},{name:"\u5168\u96c6\u4e2d\u547c\u5438\xb7\u6b62\u8840",attack:5,unlock:!1},{name:"\u5168\u96c6\u4e2d\u547c\u5438\xb7\u89c9\u9192",attack:5,unlock:!1}]]}}return t.getInstance=function(){return null==t.ins&&(t.ins=new t),t.ins},t.prototype.clearHeros=function(){this.heros=[]},t.prototype.getHeros=function(){return this.heros},t.prototype.getHero=function(t){for(var e=0;e<this.heros.length;e++)if(this.heros[e].name==t)return this.heros[e];return null},t.prototype.setHeros=function(t){this.heros=t},t.prototype.isEmpty=function(){return 0==this.heros.length},t.prototype.createHero=function(){for(var t=Object.keys(this.heroData),e=t.length,a=this.shuffle(e),o=0;o<e;o++){if(this.heros.length==e)return;var n=t[a[o]];if(null==this.getHero(n)){var c=new i.Hero;c.grade=1,c.name=n;var r=this.heroData[n];return console.log("\u521b\u5efa\u82f1\u96c4\uff1a",r),c.attack=r[0],c.speed=r[1],c.gold=r[2],c.skills=r[3],void this.heros.push(c)}}},t.prototype.shuffle=function(t){for(var e=[],a=0;a<t;a++)e.push(a);for(a=0;a<t;a++){var o=Math.floor(Math.random()*t),i=e[a];e[a]=e[o],e[o]=i}return e},t.prototype.getHeroSpriteInfo=function(t){var e={spriteName:"tanzhilang",spriteWidth:"350",spriteHeight:"245",attackSprite:"tanzhilang_zhanji",attackSpriteWidth:"100",attackSpriteHeight:"500"};switch(t){case"\u70ad\u6cbb\u90ce":return e;case"\u5584\u9038":return{spriteName:"wuqishanyi",spriteWidth:"180",spriteHeight:"220",attackSprite:"shanyi_zhanji",attackSpriteWidth:"150",attackSpriteHeight:"500"};case"\u4f0a\u4e4b\u52a9":return{spriteName:"yizhizhu",spriteWidth:"250",spriteHeight:"250",attackSprite:"yizhizhu_zhanji",attackSpriteWidth:"300",attackSpriteHeight:"300"};case"\u5f25\u8c46\u5b50":return{spriteName:"midouzi",spriteWidth:"230",spriteHeight:"230",attackSprite:"midouzi_zhanji",attackSpriteWidth:"500",attackSpriteHeight:"150"};case"\u65e0\u4e00\u90ce":return{spriteName:"wuyilang",spriteWidth:"220",spriteHeight:"220",attackSprite:"wuyilang_zhanji",attackSpriteWidth:"200",attackSpriteHeight:"500"}}return e},t}();a.HeroFactory=n,cc._RF.pop()},{"./Hero":"Hero"}],Hero:[function(t,e,a){"use strict";cc._RF.push(e,"70fe6kypCFNPqJIH1i2Q8Lw","Hero"),Object.defineProperty(a,"__esModule",{value:!0}),a.Hero=void 0;var o=cc._decorator,i=(o.ccclass,o.property,function(){function t(t,e,a,o,i,n){void 0===t&&(t=1),void 0===e&&(e=""),void 0===a&&(a=1),void 0===o&&(o=1),void 0===i&&(i=0),void 0===n&&(n=[]),this.name="\u70ad\u6cbb\u90ce",this.grade=1,this.attack=1,this.speed=1,this.gold=1,this.skills=[{name:"\u5168\u547c\u5438\u5e38\u4e2d",attack:2,unlock:!1},{name:"\u6c34\u4e4b\u547c\u5438\u7b2c\u58f9\u5f0f \u6c34\u9762\u65a9",attack:2,unlock:!1},{name:"\u6c34\u4e4b\u547c\u5438\u7b2c\u8d30\u5f0f \u6c34\u8f6e",attack:2,unlock:!1}],this.grade=t,this.name=e,this.attack=a,this.speed=o,this.gold=i,this.skills=n}return t.prototype.getGradeName=function(t){var e="\u67f1";switch(t){case 10:e="\u7532";break;case 9:e="\u4e59";break;case 8:e="\u4e19";break;case 7:e="\u4e01";break;case 6:e="\u620a";break;case 5:e="\u5df1";break;case 4:e="\u5e9a";break;case 3:e="\u8f9b";break;case 2:e="\u58ec";break;case 1:e="\u7678"}return e},t.prototype.getFinalAttack=function(t){for(var e=this.attack,a=0,o=this.skills;a<o.length;a++){var i=o[a];i.unlock&&(e+=i.attack)}return e*=t,this.grade>1&&(e*=Math.pow(1.2,this.grade-1)),Math.floor(e)},t.prototype.toJson=function(){return JSON.stringify(this)},t.fromJson=function(t){return JSON.parse(t)},t}());a.Hero=i,cc._RF.pop()},{}],JbTs:[function(t,e,a){"use strict";cc._RF.push(e,"44260U8C8VFgIVzVcLZgdgX","JbTs");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),n=this&&this.__decorate||function(t,e,a,o){var i,n=arguments.length,c=n<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,a,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(c=(n<3?i(c):n>3?i(e,a,c):i(e,a))||c);return n>3&&c&&Object.defineProperty(e,a,c),c};Object.defineProperty(a,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,s=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="",e}return i(e,t),e.prototype.start=function(){var t=this,e=cc.moveTo(.2,this.node.x,this.node.y),a=cc.find("mubiaoJb"),o=cc.moveTo(.6,a.x,a.y),i=cc.sequence(e,o,cc.callFunc(function(){t.node.destroy()}));this.node.runAction(i)},n([s(cc.Label)],e.prototype,"label",void 0),n([s],e.prototype,"text",void 0),n([r],e)}(cc.Component);a.default=u,cc._RF.pop()},{}]},{},["AttackTs","AudioMgr","BossAttackedBloodTs","GameTs","Global","JbTs","Hero","HeroFactory"]);